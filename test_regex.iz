// Test std.regex module
import * as regex from "std.regex";

print("Testing std.regex module:");
print("========================");

// Test regex.test()
var text = "Hello, World! This is a test.";
var hasWorld = regex.test(text, "World");
print("Text contains 'World':", hasWorld);
assert(hasWorld == true, "Should find 'World' in text");

var hasXyz = regex.test(text, "xyz");
print("Text contains 'xyz':", hasXyz);
assert(hasXyz == false, "Should not find 'xyz' in text");

// Test regex.match()
var matches = regex.match(text, "\\w+");
print("First word match:", matches);
if (matches != nil) {
    print("Matched:", matches);
}

var emailText = "Contact us at support@example.com or sales@example.com";
var emailMatches = regex.match(emailText, "[a-z]+@[a-z]+\\.[a-z]+");
print("Email matches:", emailMatches);

// Test regex.replace()
var replaced = regex.replace(text, "World", "IziLang");
print("After replacement:", replaced);
assert(replaced == "Hello, IziLang! This is a test.", "Should replace 'World' with 'IziLang'");

var allDigits = regex.replace("abc123def456", "\\d+", "X");
print("Replace all digits with X:", allDigits);

// Test with patterns
var phone = "Call me at 555-1234 or 555-5678";
var noHyphens = regex.replace(phone, "-", "");
print("Remove hyphens:", noHyphens);

print("\nAll regex tests passed!");
