print("=== std.array Tests ===");
print("");

print("Map:");
var numbers = [1, 2, 3, 4, 5];
print("  Original array:", numbers);
fn double(x) {
    return x * 2;
}
var doubled = map(numbers, double);
print("  map(numbers, double) =", doubled);
print("");

print("Filter:");
fn isEven(x) {
    var mod = x - floor(x / 2) * 2;
    return mod == 0;
}
var evens = filter(numbers, isEven);
print("  filter([1,2,3,4,5], isEven) =", evens);
print("");

print("Reduce:");
fn add(a, b) {
    return a + b;
}
var sum = reduce(numbers, add, 0);
print("  reduce([1,2,3,4,5], add, 0) =", sum);
print("");

print("Sort:");
var unsorted = [3, 1, 4, 1, 5, 9, 2, 6];
print("  Original:", unsorted);
var sorted = sort(unsorted);
print("  sort([3,1,4,1,5,9,2,6]) =", sorted);
print("");

print("Reverse:");
var arr = [1, 2, 3, 4, 5];
print("  Original:", arr);
var reversed = reverse(arr);
print("  reverse([1,2,3,4,5]) =", reversed);
print("");

print("Concat:");
var arr1 = [1, 2, 3];
var arr2 = [4, 5, 6];
print("  arr1:", arr1);
print("  arr2:", arr2);
var concatenated = concat(arr1, arr2);
print("  concat(arr1, arr2) =", concatenated);
print("");

print("Slice:");
var original = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
print("  Original:", original);
print("  slice(arr, 2, 5) =", slice(original, 2, 5));
print("  slice(arr, 5) =", slice(original, 5));
print("");

print("Push and Pop:");
var myArr = [1, 2, 3];
print("  Original:", myArr);
push(myArr, 4);
print("  After push(myArr, 4):", myArr);
var popped = pop(myArr);
print("  pop(myArr) returned:", popped);
print("  Array after pop:", myArr);
print("");

print("=== All std.array tests passed! ===");
