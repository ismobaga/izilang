// Comprehensive test for collections enhancements

// 1. Array spread operator
print("=== Array Spread ===");
var arr1 = [1, 2, 3];
var arr2 = [4, 5, 6];
var combined = [...arr1, ...arr2];
print(combined);

var mixed = [0, ...arr1, 7, ...arr2, 8];
print(mixed);

// 2. Map spread operator
print("\n=== Map Spread ===");
var obj1 = {"name": "John", "age": 30};
var obj2 = {"city": "NYC", "country": "USA"};
var merged = {...obj1, ...obj2};
print(merged);

// Test override
var override = {...obj1, "age": 31, ...obj2};
print(override);

// 3. Array destructuring
print("\n=== Array Destructuring ===");
var [a, b, c] = [1, 2, 3];
print(a);
print(b);
print(c);

// 4. Map destructuring
print("\n=== Map Destructuring ===");
var person = {"name": "Alice", "age": 25, "email": "alice@example.com"};
var {name, age, email} = person;
print(name);
print(age);
print(email);

// 5. Combined usage - destructure a spread result
print("\n=== Combined Usage ===");
var nums1 = [10, 20];
var nums2 = [30, 40];
var [first, second, third, fourth] = [...nums1, ...nums2];
print(first);
print(second);
print(third);
print(fourth);

// 6. Complex map merging and destructuring
var user = {"username": "johndoe", "role": "admin"};
var profile = {"email": "john@example.com", "phone": "555-1234"};
var complete = {...user, ...profile};
var {username, role, email} = complete;
print("\n=== User Info ===");
print(username);
print(role);
print(email);

print("\n=== All Tests Passed ===");
